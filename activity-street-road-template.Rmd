---
title: "Activity: Street or Road?"
author: "Madeline Mucciolo"
output: html_notebook
---

## Load in the data

```{r}
#load libraries 
library(tidyverse)

#load in the data here 
# we will only be using the "street-addresses.csv" file from the text
Addresses <- read_csv("https://mdbeckman.github.io/dcSupplement/data/street-addresses.csv")
```

## Inspect Data
```{r}
head(Addresses)
sample_n(Addresses, 10)
```


## Recreate Solved Example using `sample(50)`

```{r}
Sample <- 
  Addresses %>%
  sample_n(size = 50)
```
- First, gather a sample subset of 50 random cases.

```{r}
Matches <- 
  Sample %>%
  filter(grepl(pattern = "PO", address))

Dont <- 
  Sample %>%
  filter( !grepl(pattern = "PO", address))
```
- Attempt to filter out all of the cases containing "PO" (indicating they contain a PO BOX in their address). Contain these cases within two data frames, a *Matches* df for addresses with "PO" and a *Dont* df for those that do not.  

```{r}
head(Matches)
head(Dont)
```
- In the *Matches* df, most of the cases look like they belong their (based on the head of the df), but after a quick glance at the *Dont* df, it is obvious there are errors. One of the addresses contains "P O" instead of "PO" so it was mistakenly included in the *Dont* df. On top of that, some cases have "NCSU" instead of "PO", so we need to readjust our statement to correctly capture all of the cases into their appropriate data frames.

```{r}
pattern <- "BOX\\s+(\\d+)"

Matches <- 
  Sample %>% 
  filter(grepl(pattern, address))

Dont <-
  Sample %>%
  filter( !grepl(pattern, address))
```
- The improved pattern calls for "BOX" followed by numbers.

```{r}
head(Matches)
head(Dont)
```
- Now the *Addresses* data frame has been much more accurately split into groupings.


## Recreate Solved Example using the entire `Address` data set

```{r}
address_box <-
  Addresses %>% 
  filter(grepl(pattern, address))

address_no_box <-
  Addresses %>% 
  filter(!grepl(pattern, address))
```
- Using the same **filter()** function on the entire *Addresses* dataset.

```{r}
sample_n(address_box, 10)
sample_n(address_no_box, 10)
```
- Based on the random sample from each of these new subset data frames, both appear to be properly sorted.

```{r}
BoxNumbers <- 
  Addresses %>%
  filter(grepl(pattern, address)) %>%
  tidyr::extract(address, into = "boxnum", regex = pattern)

sample_n(BoxNumbers,10)
```
- Now we are able to extract and view all of the individual cases box numbers.


#### Additional Question: How many addresses are a PO BOX (including NCSU BOX)? 

```{r}


```

My answer here...... 


## Back to the Streets: Your Turn

#### Part 1: Explain (in english) each line of the following code chunk

```{r}
pattern <- "(ST|RD|ROAD)"
LeftOvers <-
  Addresses %>% 
  filter( !grepl(pattern, address),
          !grepl("\\sAPT|UNIT\\s[\\d]+$", address),
          !grepl(" BOX ", address)
          )
```

My answer here.......

#### Part 2: Implement your method on the entire `Addresses` data set. Explain how your code works line by line.

```{r}



```

My answer here.......

#### Additional Question 1: Present your result from part 2 by providing a table in descending order of popularity for the street name endings you found

```{r}


```

#### Additional Question 2: Present your result by using ggplot to a bar chart in descending order of popularity for the street name endings you found previously.

Note: make sure your order street names according to popularity, not alphabetically.

```{r}

```

#### Additional Question 3: Comment on any patterns you see

My answer here.......
